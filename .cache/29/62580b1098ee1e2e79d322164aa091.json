{"id":"8hoJ","dependencies":[{"name":"/Users/siruizhu/Documents/GitHub/cultural--relics/.babelrc","includedInParent":true,"mtime":1537197025000},{"name":"/Users/siruizhu/Documents/GitHub/cultural--relics/package.json","includedInParent":true,"mtime":1544542340887},{"name":"./data/architecture_point_completed.geojson","loc":{"line":5,"column":31},"parent":"/Users/siruizhu/Documents/GitHub/cultural--relics/src/interactive_map.js","resolved":"/Users/siruizhu/Documents/GitHub/cultural--relics/src/data/architecture_point_completed.geojson"}],"generated":{"js":"\"use strict\";var e=null,r=35.5,s=105,a=require(\"./data/architecture_point_completed.geojson\"),o=\"pk.eyJ1Ijoiemh1c2lydWkiLCJhIjoiczRLMGhEMCJ9.37GHQC_3mSKufR5ERmXsLw\",t=\"mapbox://styles/zhusirui/cjote0r366qqd2spcea8df8td\";function i(){e.addSource(\"markers-source\",{type:\"geojson\",data:a}),e.addLayer({id:\"markers\",type:\"circle\",source:\"markers-source\",paint:{\"circle-color\":{property:\"classification_en\",type:\"categorical\",stops:[[\"Ancient architecture\",\"#66c2a5\"],[\"Ancient ruins\",\"#fc8d62\"],[\"Historical buildings of modern times\",\"#8da0cb\"],[\"Ancient tomb\",\"#e78ac3\"],[\"Cave temple and stone carving\",\"#a6d854\"],[\"others\",\"#ffd92f\"]]},\"circle-radius\":3.5,\"circle-stroke-width\":.5}});var r=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});e.on(\"mouseenter\",\"markers\",function(s){e.getCanvas().style.cursor=\"default\";for(var a=s.features[0].geometry.coordinates.slice(),o=(s.features[0],s.features[0].properties,s.features[0].properties.name_en),t=s.features[0].properties.era_en,i=\"<div class='g-popup-line-1'>\"+o+\"</div><div class='g-popup-divider'></div><div class='g-popup-line-1-address'>Province: \"+s.features[0].properties.province_en+\"</div><div class='g-popup-line-1-address'>Type: \"+s.features[0].properties.classification_en+\"</div><div class='g-popup-line-1-address'>Era: \"+t+\"</div></div></div>\";Math.abs(s.lngLat.lng-a[0])>180;)a[0]+=s.lngLat.lng>a[0]?360:-360;r.setLngLat(a).setHTML(i).addTo(e)}),e.on(\"mouseout\",\"markers\",function(){e.getCanvas().style.cursor=\"\",r.remove()})}mapboxgl.accessToken=o,(e=new mapboxgl.Map({container:\"map\",style:t,center:[s,r],zoom:3.3})).once(\"style.load\",function(r){i(),e.addControl(new mapboxgl.NavigationControl)});","map":{"mappings":[{"source":"interactive_map.js","original":{"line":116,"column":4},"generated":{"line":1,"column":0}},{"source":"interactive_map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"interactive_map.js","name":"_map","original":{"line":1,"column":4},"generated":{"line":1,"column":17}},{"source":"interactive_map.js","original":{"line":1,"column":19},"generated":{"line":1,"column":19}},{"source":"interactive_map.js","name":"_centerLat","original":{"line":2,"column":8},"generated":{"line":1,"column":24}},{"source":"interactive_map.js","original":{"line":2,"column":23},"generated":{"line":1,"column":26}},{"source":"interactive_map.js","name":"_centerLng","original":{"line":3,"column":8},"generated":{"line":1,"column":31}},{"source":"interactive_map.js","original":{"line":3,"column":23},"generated":{"line":1,"column":33}},{"source":"interactive_map.js","name":"_dataFile","original":{"line":5,"column":8},"generated":{"line":1,"column":37}},{"source":"interactive_map.js","name":"require","original":{"line":5,"column":23},"generated":{"line":1,"column":39}},{"source":"interactive_map.js","original":{"line":5,"column":31},"generated":{"line":1,"column":47}},{"source":"interactive_map.js","name":"_accessToken","original":{"line":6,"column":8},"generated":{"line":1,"column":94}},{"source":"interactive_map.js","original":{"line":6,"column":23},"generated":{"line":1,"column":96}},{"source":"interactive_map.js","name":"_mapStyle","original":{"line":7,"column":8},"generated":{"line":1,"column":165}},{"source":"interactive_map.js","original":{"line":7,"column":23},"generated":{"line":1,"column":167}},{"source":"interactive_map.js","original":{"line":17,"column":4},"generated":{"line":1,"column":220}},{"source":"interactive_map.js","name":"init","original":{"line":17,"column":13},"generated":{"line":1,"column":229}},{"source":"interactive_map.js","name":"_map","original":{"line":19,"column":6},"generated":{"line":1,"column":233}},{"source":"interactive_map.js","name":"addSource","original":{"line":19,"column":11},"generated":{"line":1,"column":235}},{"source":"interactive_map.js","original":{"line":19,"column":22},"generated":{"line":1,"column":245}},{"source":"interactive_map.js","original":{"line":19,"column":40},"generated":{"line":1,"column":262}},{"source":"interactive_map.js","name":"type","original":{"line":20,"column":41},"generated":{"line":1,"column":263}},{"source":"interactive_map.js","original":{"line":20,"column":47},"generated":{"line":1,"column":268}},{"source":"interactive_map.js","name":"data","original":{"line":21,"column":41},"generated":{"line":1,"column":278}},{"source":"interactive_map.js","name":"_dataFile","original":{"line":21,"column":47},"generated":{"line":1,"column":283}},{"source":"interactive_map.js","name":"_map","original":{"line":24,"column":6},"generated":{"line":1,"column":287}},{"source":"interactive_map.js","name":"addLayer","original":{"line":24,"column":11},"generated":{"line":1,"column":289}},{"source":"interactive_map.js","original":{"line":25,"column":6},"generated":{"line":1,"column":298}},{"source":"interactive_map.js","original":{"line":26,"column":14},"generated":{"line":1,"column":299}},{"source":"interactive_map.js","original":{"line":26,"column":14},"generated":{"line":1,"column":302}},{"source":"interactive_map.js","original":{"line":27,"column":16},"generated":{"line":1,"column":312}},{"source":"interactive_map.js","original":{"line":27,"column":16},"generated":{"line":1,"column":317}},{"source":"interactive_map.js","original":{"line":28,"column":18},"generated":{"line":1,"column":326}},{"source":"interactive_map.js","original":{"line":28,"column":18},"generated":{"line":1,"column":333}},{"source":"interactive_map.js","original":{"line":29,"column":17},"generated":{"line":1,"column":350}},{"source":"interactive_map.js","original":{"line":29,"column":17},"generated":{"line":1,"column":356}},{"source":"interactive_map.js","original":{"line":31,"column":18},"generated":{"line":1,"column":357}},{"source":"interactive_map.js","original":{"line":31,"column":18},"generated":{"line":1,"column":372}},{"source":"interactive_map.js","name":"property","original":{"line":32,"column":20},"generated":{"line":1,"column":373}},{"source":"interactive_map.js","original":{"line":32,"column":30},"generated":{"line":1,"column":382}},{"source":"interactive_map.js","name":"type","original":{"line":33,"column":20},"generated":{"line":1,"column":402}},{"source":"interactive_map.js","original":{"line":33,"column":26},"generated":{"line":1,"column":407}},{"source":"interactive_map.js","name":"stops","original":{"line":34,"column":20},"generated":{"line":1,"column":421}},{"source":"interactive_map.js","original":{"line":34,"column":27},"generated":{"line":1,"column":427}},{"source":"interactive_map.js","original":{"line":35,"column":24},"generated":{"line":1,"column":428}},{"source":"interactive_map.js","original":{"line":35,"column":25},"generated":{"line":1,"column":429}},{"source":"interactive_map.js","original":{"line":35,"column":49},"generated":{"line":1,"column":452}},{"source":"interactive_map.js","original":{"line":36,"column":24},"generated":{"line":1,"column":463}},{"source":"interactive_map.js","original":{"line":36,"column":25},"generated":{"line":1,"column":464}},{"source":"interactive_map.js","original":{"line":36,"column":42},"generated":{"line":1,"column":480}},{"source":"interactive_map.js","original":{"line":37,"column":24},"generated":{"line":1,"column":491}},{"source":"interactive_map.js","original":{"line":37,"column":25},"generated":{"line":1,"column":492}},{"source":"interactive_map.js","original":{"line":37,"column":65},"generated":{"line":1,"column":531}},{"source":"interactive_map.js","original":{"line":38,"column":24},"generated":{"line":1,"column":542}},{"source":"interactive_map.js","original":{"line":38,"column":25},"generated":{"line":1,"column":543}},{"source":"interactive_map.js","original":{"line":38,"column":41},"generated":{"line":1,"column":558}},{"source":"interactive_map.js","original":{"line":39,"column":24},"generated":{"line":1,"column":569}},{"source":"interactive_map.js","original":{"line":39,"column":25},"generated":{"line":1,"column":570}},{"source":"interactive_map.js","original":{"line":39,"column":58},"generated":{"line":1,"column":602}},{"source":"interactive_map.js","original":{"line":40,"column":24},"generated":{"line":1,"column":613}},{"source":"interactive_map.js","original":{"line":40,"column":25},"generated":{"line":1,"column":614}},{"source":"interactive_map.js","original":{"line":40,"column":35},"generated":{"line":1,"column":623}},{"source":"interactive_map.js","original":{"line":43,"column":36},"generated":{"line":1,"column":636}},{"source":"interactive_map.js","original":{"line":43,"column":36},"generated":{"line":1,"column":652}},{"source":"interactive_map.js","original":{"line":44,"column":42},"generated":{"line":1,"column":656}},{"source":"interactive_map.js","original":{"line":44,"column":42},"generated":{"line":1,"column":678}},{"source":"interactive_map.js","name":"popup","original":{"line":49,"column":4},"generated":{"line":1,"column":684}},{"source":"interactive_map.js","name":"popup","original":{"line":49,"column":4},"generated":{"line":1,"column":688}},{"source":"interactive_map.js","original":{"line":49,"column":12},"generated":{"line":1,"column":690}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":49,"column":16},"generated":{"line":1,"column":694}},{"source":"interactive_map.js","name":"Popup","original":{"line":49,"column":25},"generated":{"line":1,"column":703}},{"source":"interactive_map.js","original":{"line":49,"column":31},"generated":{"line":1,"column":709}},{"source":"interactive_map.js","name":"closeButton","original":{"line":50,"column":8},"generated":{"line":1,"column":710}},{"source":"interactive_map.js","original":{"line":50,"column":21},"generated":{"line":1,"column":723}},{"source":"interactive_map.js","name":"closeOnClick","original":{"line":51,"column":8},"generated":{"line":1,"column":725}},{"source":"interactive_map.js","original":{"line":51,"column":22},"generated":{"line":1,"column":739}},{"source":"interactive_map.js","name":"_map","original":{"line":55,"column":5},"generated":{"line":1,"column":743}},{"source":"interactive_map.js","name":"on","original":{"line":55,"column":10},"generated":{"line":1,"column":745}},{"source":"interactive_map.js","original":{"line":55,"column":13},"generated":{"line":1,"column":748}},{"source":"interactive_map.js","original":{"line":55,"column":27},"generated":{"line":1,"column":761}},{"source":"interactive_map.js","original":{"line":55,"column":38},"generated":{"line":1,"column":771}},{"source":"interactive_map.js","name":"e","original":{"line":55,"column":47},"generated":{"line":1,"column":780}},{"source":"interactive_map.js","name":"_map","original":{"line":56,"column":8},"generated":{"line":1,"column":783}},{"source":"interactive_map.js","name":"getCanvas","original":{"line":56,"column":13},"generated":{"line":1,"column":785}},{"source":"interactive_map.js","name":"style","original":{"line":56,"column":25},"generated":{"line":1,"column":797}},{"source":"interactive_map.js","name":"cursor","original":{"line":56,"column":31},"generated":{"line":1,"column":803}},{"source":"interactive_map.js","original":{"line":56,"column":40},"generated":{"line":1,"column":810}},{"source":"interactive_map.js","name":"Math","original":{"line":89,"column":15},"generated":{"line":1,"column":820}},{"source":"interactive_map.js","name":"coordinates","original":{"line":58,"column":12},"generated":{"line":1,"column":824}},{"source":"interactive_map.js","name":"coordinates","original":{"line":58,"column":12},"generated":{"line":1,"column":828}},{"source":"interactive_map.js","name":"e","original":{"line":58,"column":26},"generated":{"line":1,"column":830}},{"source":"interactive_map.js","name":"features","original":{"line":58,"column":28},"generated":{"line":1,"column":832}},{"source":"interactive_map.js","original":{"line":58,"column":37},"generated":{"line":1,"column":841}},{"source":"interactive_map.js","name":"geometry","original":{"line":58,"column":40},"generated":{"line":1,"column":844}},{"source":"interactive_map.js","name":"coordinates","original":{"line":58,"column":49},"generated":{"line":1,"column":853}},{"source":"interactive_map.js","name":"slice","original":{"line":58,"column":61},"generated":{"line":1,"column":865}},{"source":"interactive_map.js","name":"title","original":{"line":63,"column":13},"generated":{"line":1,"column":873}},{"source":"interactive_map.js","name":"e","original":{"line":59,"column":22},"generated":{"line":1,"column":876}},{"source":"interactive_map.js","name":"features","original":{"line":59,"column":24},"generated":{"line":1,"column":878}},{"source":"interactive_map.js","original":{"line":59,"column":33},"generated":{"line":1,"column":887}},{"source":"interactive_map.js","name":"e","original":{"line":61,"column":21},"generated":{"line":1,"column":890}},{"source":"interactive_map.js","name":"features","original":{"line":61,"column":23},"generated":{"line":1,"column":892}},{"source":"interactive_map.js","original":{"line":61,"column":32},"generated":{"line":1,"column":901}},{"source":"interactive_map.js","name":"properties","original":{"line":61,"column":35},"generated":{"line":1,"column":904}},{"source":"interactive_map.js","name":"e","original":{"line":63,"column":21},"generated":{"line":1,"column":915}},{"source":"interactive_map.js","name":"features","original":{"line":63,"column":23},"generated":{"line":1,"column":917}},{"source":"interactive_map.js","original":{"line":63,"column":32},"generated":{"line":1,"column":926}},{"source":"interactive_map.js","name":"properties","original":{"line":63,"column":35},"generated":{"line":1,"column":929}},{"source":"interactive_map.js","name":"name_en","original":{"line":63,"column":46},"generated":{"line":1,"column":940}},{"source":"interactive_map.js","name":"era","original":{"line":65,"column":14},"generated":{"line":1,"column":949}},{"source":"interactive_map.js","name":"e","original":{"line":65,"column":20},"generated":{"line":1,"column":951}},{"source":"interactive_map.js","name":"features","original":{"line":65,"column":22},"generated":{"line":1,"column":953}},{"source":"interactive_map.js","original":{"line":65,"column":31},"generated":{"line":1,"column":962}},{"source":"interactive_map.js","name":"properties","original":{"line":65,"column":34},"generated":{"line":1,"column":965}},{"source":"interactive_map.js","name":"era_en","original":{"line":65,"column":45},"generated":{"line":1,"column":976}},{"source":"interactive_map.js","name":"layout","original":{"line":69,"column":12},"generated":{"line":1,"column":983}},{"source":"interactive_map.js","original":{"line":69,"column":21},"generated":{"line":1,"column":985}},{"source":"interactive_map.js","name":"title","original":{"line":69,"column":54},"generated":{"line":1,"column":1016}},{"source":"interactive_map.js","original":{"line":69,"column":62},"generated":{"line":1,"column":1018}},{"source":"interactive_map.js","name":"e","original":{"line":66,"column":24},"generated":{"line":1,"column":1108}},{"source":"interactive_map.js","name":"features","original":{"line":66,"column":26},"generated":{"line":1,"column":1110}},{"source":"interactive_map.js","original":{"line":66,"column":35},"generated":{"line":1,"column":1119}},{"source":"interactive_map.js","name":"properties","original":{"line":66,"column":38},"generated":{"line":1,"column":1122}},{"source":"interactive_map.js","name":"province_en","original":{"line":66,"column":49},"generated":{"line":1,"column":1133}},{"source":"interactive_map.js","original":{"line":71,"column":87},"generated":{"line":1,"column":1145}},{"source":"interactive_map.js","name":"e","original":{"line":67,"column":20},"generated":{"line":1,"column":1196}},{"source":"interactive_map.js","name":"features","original":{"line":67,"column":22},"generated":{"line":1,"column":1198}},{"source":"interactive_map.js","original":{"line":67,"column":31},"generated":{"line":1,"column":1207}},{"source":"interactive_map.js","name":"properties","original":{"line":67,"column":34},"generated":{"line":1,"column":1210}},{"source":"interactive_map.js","name":"classification_en","original":{"line":67,"column":45},"generated":{"line":1,"column":1221}},{"source":"interactive_map.js","original":{"line":72,"column":81},"generated":{"line":1,"column":1239}},{"source":"interactive_map.js","name":"era","original":{"line":73,"column":73},"generated":{"line":1,"column":1289}},{"source":"interactive_map.js","original":{"line":73,"column":79},"generated":{"line":1,"column":1291}},{"source":"interactive_map.js","name":"Math","original":{"line":89,"column":15},"generated":{"line":1,"column":1312}},{"source":"interactive_map.js","name":"abs","original":{"line":89,"column":20},"generated":{"line":1,"column":1317}},{"source":"interactive_map.js","name":"e","original":{"line":89,"column":24},"generated":{"line":1,"column":1321}},{"source":"interactive_map.js","name":"lngLat","original":{"line":89,"column":26},"generated":{"line":1,"column":1323}},{"source":"interactive_map.js","name":"lng","original":{"line":89,"column":33},"generated":{"line":1,"column":1330}},{"source":"interactive_map.js","name":"coordinates","original":{"line":89,"column":39},"generated":{"line":1,"column":1334}},{"source":"interactive_map.js","original":{"line":89,"column":51},"generated":{"line":1,"column":1336}},{"source":"interactive_map.js","original":{"line":89,"column":57},"generated":{"line":1,"column":1340}},{"source":"interactive_map.js","name":"coordinates","original":{"line":90,"column":12},"generated":{"line":1,"column":1345}},{"source":"interactive_map.js","original":{"line":90,"column":24},"generated":{"line":1,"column":1347}},{"source":"interactive_map.js","name":"e","original":{"line":90,"column":30},"generated":{"line":1,"column":1351}},{"source":"interactive_map.js","name":"lngLat","original":{"line":90,"column":32},"generated":{"line":1,"column":1353}},{"source":"interactive_map.js","name":"lng","original":{"line":90,"column":39},"generated":{"line":1,"column":1360}},{"source":"interactive_map.js","name":"coordinates","original":{"line":90,"column":45},"generated":{"line":1,"column":1364}},{"source":"interactive_map.js","original":{"line":90,"column":57},"generated":{"line":1,"column":1366}},{"source":"interactive_map.js","original":{"line":90,"column":62},"generated":{"line":1,"column":1369}},{"source":"interactive_map.js","original":{"line":90,"column":69},"generated":{"line":1,"column":1374}},{"source":"interactive_map.js","name":"popup","original":{"line":94,"column":8},"generated":{"line":1,"column":1378}},{"source":"interactive_map.js","name":"setLngLat","original":{"line":94,"column":14},"generated":{"line":1,"column":1380}},{"source":"interactive_map.js","name":"coordinates","original":{"line":94,"column":24},"generated":{"line":1,"column":1390}},{"source":"interactive_map.js","name":"setHTML","original":{"line":101,"column":11},"generated":{"line":1,"column":1393}},{"source":"interactive_map.js","name":"layout","original":{"line":101,"column":19},"generated":{"line":1,"column":1401}},{"source":"interactive_map.js","name":"addTo","original":{"line":102,"column":11},"generated":{"line":1,"column":1404}},{"source":"interactive_map.js","name":"_map","original":{"line":102,"column":17},"generated":{"line":1,"column":1410}},{"source":"interactive_map.js","name":"_map","original":{"line":110,"column":6},"generated":{"line":1,"column":1415}},{"source":"interactive_map.js","name":"on","original":{"line":110,"column":11},"generated":{"line":1,"column":1417}},{"source":"interactive_map.js","original":{"line":110,"column":14},"generated":{"line":1,"column":1420}},{"source":"interactive_map.js","original":{"line":110,"column":26},"generated":{"line":1,"column":1431}},{"source":"interactive_map.js","original":{"line":110,"column":37},"generated":{"line":1,"column":1441}},{"source":"interactive_map.js","name":"_map","original":{"line":111,"column":8},"generated":{"line":1,"column":1452}},{"source":"interactive_map.js","name":"getCanvas","original":{"line":111,"column":13},"generated":{"line":1,"column":1454}},{"source":"interactive_map.js","name":"style","original":{"line":111,"column":25},"generated":{"line":1,"column":1466}},{"source":"interactive_map.js","name":"cursor","original":{"line":111,"column":31},"generated":{"line":1,"column":1472}},{"source":"interactive_map.js","original":{"line":111,"column":40},"generated":{"line":1,"column":1479}},{"source":"interactive_map.js","name":"popup","original":{"line":112,"column":8},"generated":{"line":1,"column":1482}},{"source":"interactive_map.js","name":"remove","original":{"line":112,"column":14},"generated":{"line":1,"column":1484}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":9,"column":4},"generated":{"line":1,"column":1495}},{"source":"interactive_map.js","name":"accessToken","original":{"line":9,"column":13},"generated":{"line":1,"column":1504}},{"source":"interactive_map.js","name":"_accessToken","original":{"line":9,"column":27},"generated":{"line":1,"column":1516}},{"source":"interactive_map.js","name":"_map","original":{"line":10,"column":4},"generated":{"line":1,"column":1519}},{"source":"interactive_map.js","original":{"line":10,"column":11},"generated":{"line":1,"column":1521}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":10,"column":15},"generated":{"line":1,"column":1525}},{"source":"interactive_map.js","name":"Map","original":{"line":10,"column":24},"generated":{"line":1,"column":1534}},{"source":"interactive_map.js","original":{"line":10,"column":29},"generated":{"line":1,"column":1538}},{"source":"interactive_map.js","name":"container","original":{"line":11,"column":31},"generated":{"line":1,"column":1539}},{"source":"interactive_map.js","original":{"line":11,"column":42},"generated":{"line":1,"column":1549}},{"source":"interactive_map.js","name":"style","original":{"line":12,"column":31},"generated":{"line":1,"column":1555}},{"source":"interactive_map.js","name":"_mapStyle","original":{"line":12,"column":38},"generated":{"line":1,"column":1561}},{"source":"interactive_map.js","name":"center","original":{"line":13,"column":31},"generated":{"line":1,"column":1563}},{"source":"interactive_map.js","original":{"line":13,"column":39},"generated":{"line":1,"column":1570}},{"source":"interactive_map.js","name":"_centerLng","original":{"line":13,"column":40},"generated":{"line":1,"column":1571}},{"source":"interactive_map.js","name":"_centerLat","original":{"line":13,"column":52},"generated":{"line":1,"column":1573}},{"source":"interactive_map.js","name":"zoom","original":{"line":14,"column":31},"generated":{"line":1,"column":1576}},{"source":"interactive_map.js","original":{"line":14,"column":37},"generated":{"line":1,"column":1581}},{"source":"interactive_map.js","name":"once","original":{"line":116,"column":9},"generated":{"line":1,"column":1588}},{"source":"interactive_map.js","original":{"line":116,"column":15},"generated":{"line":1,"column":1593}},{"source":"interactive_map.js","original":{"line":116,"column":29},"generated":{"line":1,"column":1606}},{"source":"interactive_map.js","name":"e","original":{"line":116,"column":39},"generated":{"line":1,"column":1615}},{"source":"interactive_map.js","name":"init","original":{"line":118,"column":6},"generated":{"line":1,"column":1618}},{"source":"interactive_map.js","name":"_map","original":{"line":119,"column":6},"generated":{"line":1,"column":1622}},{"source":"interactive_map.js","name":"addControl","original":{"line":119,"column":11},"generated":{"line":1,"column":1624}},{"source":"interactive_map.js","original":{"line":119,"column":23},"generated":{"line":1,"column":1635}},{"source":"interactive_map.js","name":"mapboxgl","original":{"line":119,"column":27},"generated":{"line":1,"column":1639}},{"source":"interactive_map.js","name":"NavigationControl","original":{"line":119,"column":36},"generated":{"line":1,"column":1648}}],"sources":{"interactive_map.js":"var _map         = null,\n        _centerLat   = 35.5,\n        _centerLng   = 105,\n\n        _dataFile    = require('./data/architecture_point_completed.geojson'),\n        _accessToken = \"pk.eyJ1Ijoiemh1c2lydWkiLCJhIjoiczRLMGhEMCJ9.37GHQC_3mSKufR5ERmXsLw\",\n        _mapStyle    = \"mapbox://styles/zhusirui/cjote0r366qqd2spcea8df8td\";\n\n    mapboxgl.accessToken = _accessToken;\n    _map = new mapboxgl.Map ({\n                               container: \"map\",\n                               style: _mapStyle,\n                               center: [_centerLng, _centerLat],\n                               zoom: 3.3\n    });\n\n    function init ()\n    {\n      _map.addSource (\"markers-source\", {\n                                         type: \"geojson\",\n                                         data: _dataFile\n      });\n\n      _map.addLayer (\n      {\n        \"id\": \"markers\",\n        \"type\": \"circle\",\n        \"source\": \"markers-source\",\n        \"paint\": {\n                  \"circle-color\":\n                  {\n                    property: \"classification_en\",\n                    type: \"categorical\",\n                    stops: [\n                        ['Ancient architecture', \"#66c2a5\"], \n                        ['Ancient ruins', \"#fc8d62\"], \n                        ['Historical buildings of modern times', \"#8da0cb\"], \n                        ['Ancient tomb', \"#e78ac3\"], \n                        ['Cave temple and stone carving', \"#a6d854\"], \n                        ['others', \"#ffd92f\"] \n                    ]\n                    },\n                   \"circle-radius\": 3.5,\n                   \"circle-stroke-width\": 0.5\n                 }\n         });\n\n// change the click to hover    \nvar popup = new mapboxgl.Popup({\n        closeButton: false,\n        closeOnClick: false\n      });\n\n\n     _map.on('mouseenter', 'markers', function(e) {\n        _map.getCanvas().style.cursor = \"default\";\n\n        var coordinates = e.features[0].geometry.coordinates.slice();\n        var feature = e.features[0]\n        \n        var detail = e.features[0].properties\n        // console.log('Detail is', detail)\n        var  title = e.features[0].properties.name_en\n        // console.log('Title is', title)\n        var   era = e.features[0].properties.era_en\n        var   address = e.features[0].properties.province_en\n        var  type = e.features[0].properties.classification_en\n\n        var layout = \"<div class='g-popup-line-1'>\" + title + \"</div>\" + \n                     \"<div class='g-popup-divider'></div>\" +\n                     \"<div class='g-popup-line-1-address'>\" + 'Province: ' + address + \"</div>\" + \n                      \"<div class='g-popup-line-1-address'>\" + 'Type: ' + type + \"</div>\" + \n                      \"<div class='g-popup-line-1-address'>\" + 'Era: ' + era + \"</div>\" + \n                      \"</div></div>\"\n        //               \"<div class='g-popup-line-2' style='width: 50%;'>RESIDENTS PER:</div>\" + \n        //               \"<div class='g-popup-line-2' style='width: 25%; text-align: right;'>AIDE</div>\" + \n        //               \"<div class='g-popup-line-2' style='width: 25%; text-align: right;'>NURSE</div>\" +\n        //               \"<div class='g-popup-divider'></div>\" +\n        //               \"<div class='.g-popup-line-container'><div class='g-popup-line-3' style='width: 50%;'>Best days</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + bestDayAide + \"</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + bestDayNurse + \"</div></div>\" +\n        //               \"<div class='.g-popup-line-container'><div class='g-popup-line-3' style='width: 50%;'>Worst days</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + worstDayAide + \"</div>\" + \n        //               \"<div class='g-popup-line-3' style='width: 25%; text-align: right; font-weight: 700;'>\" + worstDayNurse + \"</div></div>\";\n\n\n\n\n        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n        }\n        // .setLngLat(_map.unproject(e.point))\n        // console.log(feature)\n        popup.setLngLat(coordinates)\n          // .setHTML(\"<h4>Relics Information</h4>\" + \n          //                     \"<table>\" + \"<tr>\" + \n          //                     \"<th>Relics Classification\" + \"</th>\" + \"<th>Relics Era\" + \"</th>\" + \"<th>Relics Detail\" + \"</th>\" + \"</tr>\" + \"<tr>\" + \n          //                     \"<td>\" + feature.properties.classification_en + \"</td>\" + \"<td>\" + feature.properties.era_en + \"</td>\" + \"<td>\" + feature.properties.add_detail + \"</td>\" + \"</tr>\" + \n          //                     \"</table>\"\n          //                    )\n          .setHTML(layout)\n          .addTo(_map);\n\n            // _map.getSource(\"highlight\").setData({ \"type\":\"circle\",\n            //                                       \"coordinates\": coordinates\n            //                                       });\n            // _map.setLayoutProperty(\"highlight\", \"visibility\", \"visible\");\n      });\n\n      _map.on('mouseout', 'markers', function() {\n        _map.getCanvas().style.cursor = '';\n        popup.remove();\n    });\n    }\n\n    _map.once (\"style.load\", function (e)\n    {\n      init ();\n      _map.addControl (new mapboxgl.NavigationControl ());\n\n\n    // var layers = ['Architecture before 1912', 'Ruins', 'Architecture after 1912',\n    //              'Tomb', 'Cave temple and carving','Others'];\n    // var colors = [\"#66c2a5\", \"#fc8d62\", \"#8da0cb\", \"#e78ac3\", \"#a6d854\", \"#ffd92f\"];\n\n    // for (i = 0; i < layers.length; i++) {\n    //   var layer = layers[i];\n    //   var color = colors[i];\n    //   var item = document.createElement('div');\n    //   var key = document.createElement('span');\n    //   key.className = 'legend-key';\n    //   key.style.backgroundColor = color;\n    //   var value = document.createElement('span');\n    //   value.innerHTML = layer;\n    //   item.appendChild(key);\n    //   item.appendChild(value);\n    //   legend.appendChild(item);\n    // }\n\n\n    });"},"lineCount":null}},"hash":"6099d98a769f60f6921215db59450c34","cacheData":{"env":{}}}